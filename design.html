{% if page.items %}
<section class="section is-small">
  <div class="container">
    <h2 class="title is-1">Mechanical sizes</h2>

    <table class="table is-fullwidth">
      <thead>
        <tr>
          <th>Item</th>
          <th>Height</th>
          <th>Width</th>
          <th>Depth</th>
          <th>Weight</th>
        </tr>
      </thead>
      <tbody>
        {% assign items = page.items %}
        {% for item in items %}
        <tr>
          <td>
            {% if item.url %}
            <a href="{{ item.url }}">{{ item.name }}</a>
            {% else %}
            {{ item.name }}
            {% endif %}

            {% if item.comment %}
            <span class="tag">{{ item.comment }}</span>
            {% endif %}
          </td>
          <td><code>{{item.height}} {{item.dimension_unit}}</code></td>
          <td><code>{{item.width}} {{item.dimension_unit}}</code></td>
          <td><code>{{item.depth}} {{item.dimension_unit}}</code></td>
          <td>
            {% if item.weight %}
            <code>{{item.weight}} {{item.weight_unit}}</code>
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>
{% endif %}

{% if page.sub_system %}
<section class="section is-small">
  <div class="container">
    <h2 class="title is-1">Sub-system design</h2>
    <img src="{{site.url}}/images/design/subsystem.png" alt="Subsystem design">
  </div>
</section>
{% endif %}

{% if page.terminologies %}
<section class="section is-small">
  <div class="container">
    <h2 class="title is-1">Terminologies</h2>

    <div class="content is-medium">
      <ol>
        {% for term in page.terminologies %}
        <li><span class="has-background-grey-lighter">{{ term.term }}</span> - {{ term.definition }}</li>
        {% endfor %}
      </ol>
    </div>

  </div>
</section>
{% endif %}

{% if page.user_stories %}
<section class="section is-small">
  <div class="container">
    <h2 class="title is-1">User Stories</h2>

    {% for story in page.user_stories %}
    <p class="subtitle is-3">{{ story.user | capitalize }}</p>
    <hr>

    <div class="columns is-multiline">
      {% for action in story.actions %}
      <div class="column is-4">
        <div class="card">
          <div class="card-content">
            <p class="subtitle">
              As a {{ story.user }}, I want to <strong>{{ action.goal }}</strong> so that <em>{{ action.reason }}</em>.
            </p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    {% endfor %}

  </div>
</section>
{% endif %}

{% if page.state_machine %}
<section class="section is-small">
  <div class="container">
    <h2 class="title is-1">State Machine</h2>
    <p class="subtitle">Edit
      <code><a href="{{site.github.raw_content_url}}/design/state_machine.md">state_machine.md</a></code> at <a
        href="https://mermaidjs.github.io/mermaid-live-editor">mermaid js live editor</a>.</p>
    <img src="{{site.url}}/images/design/state_machine.svg" alt="State Machine">
  </div>
</section>
{% endif %}

{% if page.power_source %}
<section class="section is-small">
  <div class="container">
    <div class="columns is-desktop">
      <div class="column">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title">
              Power source
            </p>
          </header>
          <div class="card-content">
            <div class="content">
              {{ page.power_source }}
            </div>
          </div>
        </div>
      </div>
      <div class="column">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title">
              Battery life
            </p>
          </header>
          {% if page.battery_life %}
          <div class="card-content">
            <div class="content">
              {{ page.battery_life }}
            </div>
          </div>
          <footer class="card-footer">
            <a href="#main-components" class="card-footer-item">Main components</a>
            <a href="#calculation" class="card-footer-item">Calculation</a>
          </footer>
          {% else %}
          <div class="card-content">
            <div class="content">
              Coming soon...
            </div>
          </div>
          {% endif %}
        </div>
      </div>
      <div class="column">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title">
              Charging duration
            </p>
          </header>
          {% if page.charging_duration %}
          <div class="card-content">
            <div class="content">
              {{ page.charging_duration }}
            </div>
            <div class="content">
              {{ page.charging_instruction }}
            </div>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>
{% endif %}

{% if page.power_tree %}
<section class="section is-small">
  <div class="container">
    <h2 class="title is-1">Power tree schematic</h2>
    <p class="subtitle">Edit
      <code><a href="{{site.url}}/images/power/power_tree_drawio.xml">power_tree_drawio.xml</a></code> at <a
        href="https://draw.io">draw.io</a>.
    </p>
    <img src="{{site.url}}/images/power/power_tree.png" alt="Power Tree schematic">
  </div>
</section>
{% endif %}
